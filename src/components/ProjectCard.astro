---
import type { CollectionEntry } from 'astro:content'
import { cn } from '@lib/utils'

interface Props {
  entry: CollectionEntry<"projects">
  class: string
}

const { entry, class: className, ...rest } = Astro.props;

const projectname = entry.data.title.replace(" ", "_").toLowerCase().split(" ").reverse().join(" ")
const img = `/files/${projectname}.png`
console.log(projectname)
const projectLink = entry.data.demoUrl ? entry.data.demoUrl : `/files/${projectname}.pdf`;
---

<!-- <a href={`/${entry.collection}/${entry.slug}`} class="group overflow-hidden gap-4 flex items-center rounded-3xl hover:scale-105 hover:bg-black/5 hover:dark:bg-white/10 transition-all duration-300 ease-in-out">
  <div class="h-[200px] w-[200px] p-4 bg-blue-600 rounded-3xl place-items-center place-content-center">
    <img src={img} alt="" class="rounded-lg">
  </div>

  <div class="group-hover:text-black group-hover:dark:text-white blend">
    <h2 class="font-semibold text-black dark:text-white">{entry.data.title}</h2>
    <div class="text-sm line-clamp-2">
      {entry.data.summary}
    </div>
    <ul class="flex flex-wrap mt-2 gap-1">
      {entry.data.tags.map((tag:string) => ( // this line has an error; Parameter 'tag' implicitly has an 'any' type.ts(7006)
        <li class="text-xs uppercase py-0.5 px-1 rounded bg-black/5 dark:bg-white/20 text-black/75 dark:text-white/75">
          {tag}
        </li>
      ))}
    </ul>
  </div>

</a> -->

<a href={projectLink} target="_blank" class="group overflow-hidden gap-4 flex flex-col items-start hover:scale-105 transition-all duration-300 ease-in-out">
  <div class={`flex aspect-[4/3] p-8 rounded-3xl max-h-[261px] ${className}`}>
    <img src={img} alt="" class="object-scale-down">
  </div>

  <div class="group-hover:text-black group-hover:dark:text-white blend">
    <h2 class={`font-semibold text-black dark:text-white`}>{entry.data.title}</h2>
    <div class="text-sm line-clamp-2">
      {entry.data.summary}
    </div>
    <ul class="flex flex-wrap mt-2 gap-1">
      {entry.data.tags.map((tag:string) => ( // this line has an error; Parameter 'tag' implicitly has an 'any' type.ts(7006)
        <li class="text-xs uppercase py-0.5 px-1 rounded bg-black/5 dark:bg-white/20 text-black/75 dark:text-white/75">
          {tag}
        </li>
      ))}
    </ul>
  </div>

</a>
